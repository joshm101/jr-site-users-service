const app = require('../app')
const dbConnect = require('./utils/db-connect')

const port = process.env.JR_SITE_USERS_SERVICE_PORT || 3005

console.log('Initializing the service...')

dbConnect().then(() => {
  console.log('Database connection successfully established.')
  app.listen(port, () => {
    console.log(`Listening on port ${port}`)
  })
}).catch((error) => {
  console.log('An error occurred while connecting to the database.')
  console.error(`${error.message}`)
})
